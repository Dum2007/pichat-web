/*! wire-webapp - 2018-07-16-12-04-prod */
window.Namespace=function(){return function(a){var b=a.split("."),c=b.shift();window[c]||(window[c]={}),c=window[c];for(var d=0,e=b.length;d<e;d++){var f=b[d];c[f]||(c[f]={}),c=c[f]}}}(),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};window.Namespace("zeta.webapp.module"),zeta.webapp.module.Bubble=function(){function b(b){this.is_visible=a(this.is_visible,this),this.on_scroll=a(this.on_scroll,this),this.on_window_resize=a(this.on_window_resize,this),this.on_window_click=a(this.on_window_click,this),this.on_click=a(this.on_click,this);var c;if(b=$.extend({host_selector:void 0,scroll_selector:void 0,enable_click:!1,modal:!0,offset:void 0,arrow_size:16,resize:!0,on_show:function(){},on_hide:function(){}},b),$.extend(this,b),this.init(),!this.elements_are_present())return console.warn("Cannot create bubble for '"+this.host_selector+"'. Selector not found."),void(null!=(c=this.observer)&&c.disconnect());this.enable_click&&this.host.on("mousedown",this.on_click),this.observer=new MutationObserver(function(a){return function(b){return a.recalculate()}}(this)),this.host_observer=new MutationObserver(function(a){return function(b){return a.recalculate()}}(this))}return b.prototype.elements_are_present=function(){var a,b,c;return a=!0,c=$(this.host_selector),b=$(c.data("bubble")),0===c.length&&(a=!1),void 0===b.parent().get(0)&&(a=!1),a},b.prototype.apply_offsets=function(){var a,b;return!!this.offset&&(this.offset.left&&(a=this.bubble.position().left,b=a+this.offset.left,this.bubble.css("left",b)),!0)},b.prototype.init=function(){var a;return this.host=$(this.host_selector),this.bubble=$(this.host.data("bubble")),this.placement=this.host.data("placement")||"top",this.arrow_diagonal=Math.round(Math.sqrt(this.arrow_size*this.arrow_size*2)),this.class="",this.bubble.removeClass("bubble-top bubble-left bubble-right bubble-bottom bubble-bottom-right"),this.bubble.css("top","auto"),this.bubble.css("right","auto"),this.bubble.css("bottom","auto"),this.bubble.css("left","auto"),"top"!==(a=this.placement)&&"vertical"!==a||(this.class="bubble-bottom"),"bottom"===this.placement&&(this.class="bubble-top"),"left"===this.placement&&(this.class="bubble-right"),"right"===this.placement&&(this.class="bubble-left"),"top-left"===this.placement&&(this.class="bubble-bottom-right"),"bottom-left"===this.placement&&(this.class="bubble-top-right"),!0},b.prototype.recalculate=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n;return l=null!=(m=this.host.get(0))?m.getBoundingClientRect():void 0,j=this.host.outerWidth(),e=this.host.outerHeight(),l&&0!==j&&0!==e?(f=l.left,i=l.top,d=i+e,h=f+j,b=this.bubble.outerWidth(),a=this.bubble.outerHeight(),k=this.bubble.parent().get(0).getBoundingClientRect(),n=$(window).innerHeight(),"top"===this.placement&&(this.bubble.css("top",i-this.arrow_diagonal/2-a-k.top),this.bubble.css("left",f+(j-b)/2-k.left)),"bottom"===this.placement&&(this.bubble.css("top",d+this.arrow_diagonal/2-k.top),this.bubble.css("left",f+(j-b)/2-k.left)),"right"===this.placement&&(this.bubble.css("top",i+(e-a)/2-k.top),this.bubble.css("left",h+this.arrow_diagonal/2-k.left)),"left"===this.placement&&(this.bubble.css("top",i+(e-a)/2-k.top),this.bubble.css("left",f-b-this.arrow_diagonal/2-k.left)),"top-left"===this.placement&&(this.bubble.css("top",i-this.arrow_diagonal/2-a-k.top),this.bubble.css("left",f-(b-j)-k.left)),"bottom-left"===this.placement&&(this.bubble.css("top",d+this.arrow_diagonal/2-k.top),this.bubble.css("left",f-(b-j)-k.left)),"vertical"===this.placement&&(this.bubble.css("top",i-this.arrow_diagonal/2-a-k.top),this.bubble.css("left",f+(j-b)/2-k.left)),"vertical"===this.placement&&(c=i-this.arrow_diagonal/2-a,this.bubble.css("left",f+(j-b)/2-k.left),c>=0?(this.bubble.css("top",i-this.arrow_diagonal/2-a-k.top),this.bubble.addClass("bubble-bottom").removeClass("bubble-top")):(this.bubble.css("top",d+this.arrow_diagonal/2-k.top),this.bubble.addClass("bubble-top").removeClass("bubble-bottom"))),"right-flex"===this.placement&&(g=i+e/2,g<a/2?(this.bubble.css("top",i-k.top),this.bubble.addClass("bubble-left-top").removeClass("bubble-left bubble-left-bottom")):g+a/2>n?(this.bubble.css("top",d-a-k.top),this.bubble.addClass("bubble-left-bottom").removeClass("bubble-left bubble-left-top")):(this.bubble.css("top",i+(e-a)/2-k.top),this.bubble.addClass("bubble-left").removeClass("bubble-left-top bubble-left-bottom")),this.bubble.css("left",h+this.arrow_diagonal/2-k.left)),!0):this.hide()},b.prototype.show=function(){return this.init(),this.recalculate(),this.apply_offsets(),this.bubble.off("transitionend"),new Promise(function(a){return function(b,c){return a.bubble[0]?(a.observer.observe(a.bubble[0],{childList:!0,subtree:!0}),a.host.parent()[0]?(a.host_observer.observe(a.host.parent()[0],{childList:!0,subtree:!0}),setTimeout(function(){return a.bubble[0]?(a.bubble.addClass("bubble-show "+a.class),a.resize&&$(window).on("resize",a.on_window_resize),a.modal&&($(window).one("mousedown",a.on_window_click),a.bubble.on("mousedown",a.on_cancel_click)),null!=a.scroll_selector&&$(a.scroll_selector).one("mousewheel",a.on_scroll),a.on_show(),setTimeout(function(){return a.bubble[0]?(a.bubble.addClass("bubble-animation-show"),b()):a.hide().then(function(){return c()})},10)):c()})):c()):c()}}(this),10)},b.prototype.hide=function(){var a;return $(window).off("mousedown",this.on_window_click),this.bubble.off("mousedown",this.on_cancel_click),$(window).off("resize",this.on_window_resize),$(this.scroll_selector).off("scroll",this.on_scroll),null!=(a=this.observer)&&a.disconnect(),new Promise(function(a){return function(b){return a.bubble.off("transitionend").removeClass("bubble-animation-show").one("transitionend",function(){}),a.bubble.removeClass("bubble-show "+a.class),a.on_hide(),b()}}(this))},b.prototype.toggle=function(){return this.is_visible()?this.hide():this.show()},b.prototype.on_click=function(a){return a.stopPropagation(),this.toggle()},b.prototype.on_window_click=function(a){return a.stopPropagation(),this.hide()},b.prototype.on_cancel_click=function(a){return a.stopPropagation()},b.prototype.on_window_resize=function(){if(this.is_visible())return this.recalculate()},b.prototype.on_scroll=function(){return this.hide()},b.prototype.is_visible=function(){return $(this.host.data("bubble")).hasClass("bubble-show")},b}()}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};window.Namespace("zeta.webapp.module"),zeta.webapp.module.Modal=function(){function b(b,c,d){this.modal=b,this.hide_callback=c,this.before_hide_callback=d,this._hide=a(this._hide,this),this.autoclose=!0,this.init_exits()}return b.prototype.init_exits=function(){return keyboardJS.bind("esc",this._hide),$(this.modal).click(function(a){return function(b){if(b.target===$(a.modal)[0])return a._hide()}}(this))},b.prototype._hide=function(){if(this.autoclose)return this.hide()},b.prototype.show=function(){return $(this.modal).addClass("modal-show"),setTimeout(function(a){return function(){return $(a.modal).addClass("modal-fadein")}}(this),50)},b.prototype.hide=function(a){return"function"==typeof this.before_hide_callback&&this.before_hide_callback(),$(this.modal).removeClass("modal-fadein").one("transitionend",function(b){return function(){return $(b.modal).removeClass("modal-show"),"function"==typeof b.hide_callback&&b.hide_callback(),"function"==typeof a?a():void 0}}(this))},b.prototype.toggle=function(){return this.is_shown()?this.hide():this.show()},b.prototype.is_shown=function(){return $(this.modal).hasClass("modal-show")},b.prototype.is_hidden=function(){return!this.is_shown()},b.prototype.set_autoclose=function(a){return this.autoclose=a},b.prototype.destroy=function(){return $(this.modal).off("click"),keyboardJS.unbind("esc",this._hide)},b}()}.call(this),function(){var a,b=function(a,b){return function(){return a.apply(b,arguments)}};null==window.z&&(window.z={}),null==z.util&&(z.util={}),a=function(a){return Array.prototype.slice.call(a)},z.util.Logger=function(){function c(a,c){this.name=a,this.options=null!=c?c:{},this.set_log_on=b(this.set_log_on,this),this.set_domains=b(this.set_domains,this),this.color=this.options.color||void 0,this.domain=window.location.hostname,this.domains=this.options.domains||void 0,this.high_precision=this.options.high_precision||!0,this.level=this.options.level||this.levels.LEVEL_1,this.log_time=this.options.log_time||!0,this.logging_name=this.name||arguments.callee.caller.name,this.name_length=this.options.name_length||void 0,this.steps_length=this.options.steps_length||3,this._pad_number=function(a,b){return b-=a.toString().length-/\./.test(a),b>0?new Array(b+1).join("0")+a:a+""},this._pad_string=function(a,b){var c;return void 0===b?a:(c=new Array(Math.max(b-a.length+1,0)).join(" "),a+c)},this._check_log_permission=function(a){return function(){var b,c,d,e,f,g;if(void 0===a.domains)return!0;if(a.domains.constructor===Array){for(f=a.domains,d=0,e=f.length;d<e;d++)if(b=f[d],window.location.hostname.indexOf(b)>-1)return!0}else if("object"==typeof a.domains){g=a.domains;for(b in g)if(c=g[b],window.location.hostname.indexOf(b)>-1)return a.level=c,!0}return!1}}(this),this.log_on=this._check_log_permission(),this.logging_name=this._pad_string(this.name,this.name_length),this.steps=0,this._reset(),amplify.subscribe(this.LOG_ON_DEBUG,this,this.set_log_on)}return c.prototype.LOG_ON_DEBUG="z.util.Logger::LOG_ON_DEBUG",c.prototype.levels={OFF:function(){return 0},LEVEL_1:function(){return 300},LEVEL_2:function(){return 400},LEVEL_3:function(){return 500},DEBUG:function(){return 700},INFO:function(){return 800},WARN:function(){return 900},ERROR:function(){return 1e3}},c.prototype.debug=function(){return this.log.apply(this,[this.levels.DEBUG].concat(a(arguments)))},c.prototype.error=function(){return this.log.apply(this,[this.levels.ERROR].concat(a(arguments)))},c.prototype.info=function(){return this.log.apply(this,[this.levels.INFO].concat(a(arguments)))},c.prototype.warn=function(){return this.log.apply(this,[this.levels.WARN].concat(a(arguments)))},c.prototype.log=function(){return!1===this.log_on?-3:"object"!=typeof console?-2:this.level()===this.levels.OFF()?-1:this._print_log(a(arguments))},c.prototype.force_log=function(){return this._print_log(a(arguments))},c.prototype.set_domains=function(a){return this.domains=a,this.log_on=this._check_log_permission()},c.prototype.set_log_on=function(a){return this.log_on=a,a&&this.level()===this.levels.OFF()&&(this.level=this.levels.LEVEL_1),this.level()},c.prototype._parse_info=function(a){var b,c,d,e;for(d=[],b=0,c=a.length;b<c;b++)e=a[b],"string"==typeof e?d.push(this.log_message=e):"function"==typeof e?d.push(this.log_level=e()):d.push(this.log_objects.push(e));return d},c.prototype._print_log=function(a){var b,c,d,e,f,g;if(1===a.length?("string"==typeof a[0]?this.log_message=a[0]:this.log_objects.push(a[0]),this.log_level=this.levels.LEVEL_1()):this._parse_info(a),void 0===this.log_level&&(this.log_level=this.levels.LEVEL_1()),this.log_level<this.level())return this._reset(),0;switch(void 0!==this.log_message&&(this.log_layout=1,this.log_time&&(g=moment().format("HH:mm:ss.SSS"),b="",this.log_level===this.levels.LEVEL_2()&&(b="-- "),this.log_level===this.levels.LEVEL_3()&&(b="--- "),this.log_message=this.logging_name+" | "+g+" | "+b+this.log_message),this.log_objects.length>0&&(this.log_layout=2),this.color&&(this.log_layout=3)),c=window.console.log,d=null!=window.winston?"info":"log",this.log_level){case this.levels.DEBUG():d="debug";break;case this.levels.INFO():d="info";break;case this.levels.WARN():d="warn";break;case this.levels.ERROR():d="error"}return 1===this.log_layout?(window.console[d].call(window.console,this.log_message),null!=(e=window.winston)&&e[d].call(window.winston,this.log_message)):2===this.log_layout?(window.console[d].call(window.console,this.log_message,this.log_objects),null!=(f=window.winston)&&f[d].call(window.winston,this.log_message)):3===this.log_layout&&(this.log_objects.length>0?c.call(window.console,"%c"+this.log_message,"color: "+this.color,this.log_objects):c.call(window.console,"%c"+this.log_message,"color: "+this.color)),this._reset(),0},c.prototype._reset=function(){return this.log_layout=-1,this.log_level=void 0,this.log_message="",this.log_objects=[],this.steps+=1},c}()}.call(this);
//# sourceMappingURL=wire-component.min.js.map