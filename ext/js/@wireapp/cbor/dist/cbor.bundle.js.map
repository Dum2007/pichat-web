{"version":3,"sources":["webpack:///webpack/bootstrap 2828277a9468b9387864","webpack:///./dist/cbor/Type.js","webpack:///./dist/cbor/BaseError.js","webpack:///./dist/cbor/DecodeError.js","webpack:///./dist/index.js","webpack:///./dist/cbor/Decoder.js","webpack:///./dist/cbor/Encoder.js"],"names":[],"mappings":";;;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;AC7DA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,gC;;;;;;;AC3EA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,qC;;;;;;;ACzBA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,uC;;;;;;;AChCA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;ACZA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,yBAAyB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,+BAA+B,EAAE;AAC3E;AACA;AACA;AACA,0CAA0C,gCAAgC,EAAE;AAC5E;AACA;AACA;AACA,0CAA0C,gCAAgC,EAAE;AAC5E;AACA;AACA;AACA,+BAA+B,4EAA4E;AAC3G;AACA;AACA;AACA;AACA,0CAA0C,iCAAiC,EAAE;AAC7E;AACA;AACA;AACA,0CAA0C,iCAAiC,EAAE;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,+EAA+E;AACnH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,uBAAuB,EAAE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,4CAA4C;AAClG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,kDAAkD,EAAE;AACpH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,mC;;;;;;;ACraA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,sCAAsC,EAAE;AACnF;AACA;AACA;AACA,2CAA2C,uCAAuC,EAAE;AACpF;AACA;AACA;AACA,2CAA2C,uCAAuC,EAAE;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,wCAAwC,EAAE;AACrF;AACA;AACA;AACA,2CAA2C,wCAAwC,EAAE;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE,2BAA2B,EAAE;AACpG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,mC","file":"cbor.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2828277a9468b9387864","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Type = (function () {\n    function Type() {\n        throw new Error(\"Can't create instance of singleton\");\n    }\n    Type.major = function (type) {\n        switch (type) {\n            case Type.ARRAY:\n                return 4;\n            case Type.BOOL:\n                return 7;\n            case Type.BREAK:\n                return 7;\n            case Type.BYTES:\n                return 2;\n            case Type.FLOAT16:\n                return 7;\n            case Type.FLOAT32:\n                return 7;\n            case Type.FLOAT64:\n                return 7;\n            case Type.UINT8:\n                return 0;\n            case Type.UINT16:\n                return 0;\n            case Type.UINT32:\n                return 0;\n            case Type.UINT64:\n                return 0;\n            case Type.INT8:\n                return 1;\n            case Type.INT16:\n                return 1;\n            case Type.INT32:\n                return 1;\n            case Type.INT64:\n                return 1;\n            case Type.NULL:\n                return 7;\n            case Type.OBJECT:\n                return 5;\n            case Type.TAGGED:\n                return 6;\n            case Type.TEXT:\n                return 3;\n            case Type.UNDEFINED:\n                return 7;\n            default:\n                throw new TypeError('Invalid CBOR type');\n        }\n    };\n    Type.ARRAY = 1;\n    Type.BOOL = 2;\n    Type.BREAK = 3;\n    Type.BYTES = 4;\n    Type.FLOAT16 = 5;\n    Type.FLOAT32 = 6;\n    Type.FLOAT64 = 7;\n    Type.UINT8 = 8;\n    Type.UINT16 = 9;\n    Type.UINT32 = 10;\n    Type.UINT64 = 11;\n    Type.INT8 = 12;\n    Type.INT16 = 13;\n    Type.INT32 = 14;\n    Type.INT64 = 15;\n    Type.NULL = 16;\n    Type.OBJECT = 17;\n    Type.TAGGED = 18;\n    Type.TEXT = 19;\n    Type.UNDEFINED = 20;\n    return Type;\n}());\nexports.default = Type;\n//# sourceMappingURL=Type.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./dist/cbor/Type.js\n// module id = 0\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseError = (function (_super) {\n    __extends(BaseError, _super);\n    function BaseError(message) {\n        var _this = _super.call(this, message) || this;\n        _this.message = message;\n        Object.setPrototypeOf(_this, BaseError.prototype);\n        _this.message = message;\n        _this.name = _this.constructor.name;\n        return _this;\n    }\n    return BaseError;\n}(Error));\nexports.default = BaseError;\n//# sourceMappingURL=BaseError.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./dist/cbor/BaseError.js\n// module id = 1\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseError_1 = require(\"./BaseError\");\nvar DecodeError = (function (_super) {\n    __extends(DecodeError, _super);\n    function DecodeError(message, extra) {\n        var _this = _super.call(this, message) || this;\n        _this.message = message;\n        _this.extra = extra;\n        Object.setPrototypeOf(_this, DecodeError.prototype);\n        _this.extra = extra;\n        return _this;\n    }\n    DecodeError.INT_OVERFLOW = 'Integer overflow';\n    DecodeError.INVALID_TYPE = 'Invalid type';\n    DecodeError.TOO_LONG = 'Field too long';\n    DecodeError.TOO_NESTED = 'Object nested too deep';\n    DecodeError.UNEXPECTED_EOF = 'Unexpected end-of-buffer';\n    DecodeError.UNEXPECTED_TYPE = 'Unexpected type';\n    return DecodeError;\n}(BaseError_1.default));\nexports.default = DecodeError;\n//# sourceMappingURL=DecodeError.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./dist/cbor/DecodeError.js\n// module id = 2\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseError_1 = require(\"./cbor/BaseError\");\nexports.BaseError = BaseError_1.default;\nvar DecodeError_1 = require(\"./cbor/DecodeError\");\nexports.DecodeError = DecodeError_1.default;\nvar Decoder_1 = require(\"./cbor/Decoder\");\nexports.Decoder = Decoder_1.default;\nvar Encoder_1 = require(\"./cbor/Encoder\");\nexports.Encoder = Encoder_1.default;\nvar Type_1 = require(\"./cbor/Type\");\nexports.Type = Type_1.default;\n//# sourceMappingURL=index.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./dist/index.js\n// module id = 3\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DecodeError_1 = require(\"./DecodeError\");\nvar Type_1 = require(\"./Type\");\nvar BYTES_IN_MEGABYTE = 0x100000;\nvar DEFAULT_CONFIG = {\n    max_array_length: 1000,\n    max_bytes_length: 5 * BYTES_IN_MEGABYTE,\n    max_nesting: 16,\n    max_object_size: 1000,\n    max_text_length: 5 * BYTES_IN_MEGABYTE,\n};\nvar Decoder = (function () {\n    function Decoder(buffer, config) {\n        if (config === void 0) { config = DEFAULT_CONFIG; }\n        this.buffer = buffer;\n        this.config = config;\n        this.view = new DataView(this.buffer);\n    }\n    Decoder._check_overflow = function (int, overflow) {\n        if (int > overflow) {\n            throw new DecodeError_1.default(DecodeError_1.default.INT_OVERFLOW);\n        }\n        return int;\n    };\n    Decoder.prototype._advance = function (bytes) {\n        this.view = new DataView(this.buffer, this.view.byteOffset + bytes);\n    };\n    Object.defineProperty(Decoder.prototype, \"_available\", {\n        get: function () {\n            return this.view.byteLength;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Decoder.prototype._read = function (bytes, closure) {\n        if (this._available < bytes) {\n            throw new DecodeError_1.default(DecodeError_1.default.UNEXPECTED_EOF);\n        }\n        var value = closure();\n        this._advance(bytes);\n        return value;\n    };\n    Decoder.prototype._u8 = function () {\n        var _this = this;\n        return this._read(1, function () { return _this.view.getUint8(0); });\n    };\n    Decoder.prototype._u16 = function () {\n        var _this = this;\n        return this._read(2, function () { return _this.view.getUint16(0); });\n    };\n    Decoder.prototype._u32 = function () {\n        var _this = this;\n        return this._read(4, function () { return _this.view.getUint32(0); });\n    };\n    Decoder.prototype._u64 = function () {\n        var _this = this;\n        var r64 = function () { return _this.view.getUint32(0) * Math.pow(2, 32) + _this.view.getUint32(4); };\n        return this._read(8, r64);\n    };\n    Decoder.prototype._f32 = function () {\n        var _this = this;\n        return this._read(4, function () { return _this.view.getFloat32(0); });\n    };\n    Decoder.prototype._f64 = function () {\n        var _this = this;\n        return this._read(8, function () { return _this.view.getFloat64(0); });\n    };\n    Decoder.prototype._read_length = function (minor) {\n        if (0 <= minor && minor <= 23) {\n            return minor;\n        }\n        switch (minor) {\n            case 24:\n                return this._u8();\n            case 25:\n                return this._u16();\n            case 26:\n                return this._u32();\n            case 27:\n                return Decoder._check_overflow(this._u64(), Number.MAX_SAFE_INTEGER);\n        }\n        throw new DecodeError_1.default(DecodeError_1.default.UNEXPECTED_TYPE);\n    };\n    Decoder.prototype._bytes = function (minor, max_len) {\n        var _this = this;\n        var len = this._read_length(minor);\n        if (len > max_len) {\n            throw new DecodeError_1.default(DecodeError_1.default.TOO_LONG);\n        }\n        var callback = function () { return _this.buffer.slice(_this.view.byteOffset, _this.view.byteOffset + len); };\n        return this._read(len, callback);\n    };\n    Decoder.prototype._read_type_info = function () {\n        var type = this._u8();\n        var major = (type & 0xe0) >> 5;\n        var minor = type & 0x1f;\n        switch (major) {\n            case 0: {\n                if (0 <= minor && minor <= 24) {\n                    return [Type_1.default.UINT8, minor];\n                }\n                else {\n                    switch (minor) {\n                        case 25:\n                            return [Type_1.default.UINT16, minor];\n                        case 26:\n                            return [Type_1.default.UINT32, minor];\n                        case 27:\n                            return [Type_1.default.UINT64, minor];\n                        default:\n                            throw new DecodeError_1.default(DecodeError_1.default.INVALID_TYPE);\n                    }\n                }\n            }\n            case 1: {\n                if (0 <= minor && minor <= 24) {\n                    return [Type_1.default.INT8, minor];\n                }\n                else {\n                    switch (minor) {\n                        case 25:\n                            return [Type_1.default.INT16, minor];\n                        case 26:\n                            return [Type_1.default.INT32, minor];\n                        case 27:\n                            return [Type_1.default.INT64, minor];\n                        default:\n                            throw new DecodeError_1.default(DecodeError_1.default.INVALID_TYPE);\n                    }\n                }\n            }\n            case 2:\n                return [Type_1.default.BYTES, minor];\n            case 3:\n                return [Type_1.default.TEXT, minor];\n            case 4:\n                return [Type_1.default.ARRAY, minor];\n            case 5:\n                return [Type_1.default.OBJECT, minor];\n            case 7:\n                switch (minor) {\n                    case 20:\n                    case 21:\n                        return [Type_1.default.BOOL, minor];\n                    case 22:\n                        return [Type_1.default.NULL, minor];\n                    case 25:\n                        return [Type_1.default.FLOAT16, minor];\n                    case 26:\n                        return [Type_1.default.FLOAT32, minor];\n                    case 27:\n                        return [Type_1.default.FLOAT64, minor];\n                    case 31:\n                        return [Type_1.default.BREAK, minor];\n                }\n                break;\n        }\n        throw new DecodeError_1.default(DecodeError_1.default.INVALID_TYPE);\n    };\n    Decoder.prototype._type_info_with_assert = function (expected) {\n        var _a = this._read_type_info(), type = _a[0], minor = _a[1];\n        if (!Array.isArray(expected)) {\n            expected = [expected];\n        }\n        if (!expected.some(function (error) { return type === error; })) {\n            throw new DecodeError_1.default(DecodeError_1.default.UNEXPECTED_TYPE, [type, minor]);\n        }\n        return [type, minor];\n    };\n    Decoder.prototype._read_unsigned = function (type, minor) {\n        switch (type) {\n            case Type_1.default.UINT8:\n                return minor <= 23 ? minor : this._u8();\n            case Type_1.default.UINT16:\n                return this._u16();\n            case Type_1.default.UINT32:\n                return this._u32();\n            case Type_1.default.UINT64:\n                return this._u64();\n        }\n        throw new DecodeError_1.default(DecodeError_1.default.UNEXPECTED_TYPE, [type, minor]);\n    };\n    Decoder.prototype._read_signed = function (overflow, type, minor) {\n        switch (type) {\n            case Type_1.default.INT8:\n                if (minor <= 23) {\n                    return -1 - minor;\n                }\n                return -1 - Decoder._check_overflow(this._u8(), overflow);\n            case Type_1.default.INT16:\n                return -1 - Decoder._check_overflow(this._u16(), overflow);\n            case Type_1.default.INT32:\n                return -1 - Decoder._check_overflow(this._u32(), overflow);\n            case Type_1.default.INT64:\n                return -1 - Decoder._check_overflow(this._u64(), overflow);\n            case Type_1.default.UINT8:\n            case Type_1.default.UINT16:\n            case Type_1.default.UINT32:\n            case Type_1.default.UINT64:\n                return Decoder._check_overflow(this._read_unsigned(type, minor), overflow);\n        }\n        throw new DecodeError_1.default(DecodeError_1.default.UNEXPECTED_TYPE, [type, minor]);\n    };\n    Decoder.prototype._skip_until_break = function (type) {\n        for (;;) {\n            var _a = this._read_type_info(), t = _a[0], minor = _a[1];\n            if (t === Type_1.default.BREAK) {\n                return;\n            }\n            if (t !== type || minor === 31) {\n                throw new DecodeError_1.default(DecodeError_1.default.UNEXPECTED_TYPE);\n            }\n            var len = this._read_length(minor);\n            this._advance(len);\n        }\n    };\n    Decoder.prototype._skip_value = function (level) {\n        if (level === 0) {\n            throw new DecodeError_1.default(DecodeError_1.default.TOO_NESTED);\n        }\n        var _a = this._read_type_info(), type = _a[0], minor = _a[1];\n        var len;\n        switch (type) {\n            case Type_1.default.UINT8:\n            case Type_1.default.UINT16:\n            case Type_1.default.UINT32:\n            case Type_1.default.UINT64:\n            case Type_1.default.INT8:\n            case Type_1.default.INT16:\n            case Type_1.default.INT32:\n            case Type_1.default.INT64:\n                this._read_length(minor);\n                return true;\n            case Type_1.default.BOOL:\n            case Type_1.default.NULL:\n                return true;\n            case Type_1.default.BREAK:\n                return false;\n            case Type_1.default.FLOAT16:\n                this._advance(2);\n                return true;\n            case Type_1.default.FLOAT32:\n                this._advance(4);\n                return true;\n            case Type_1.default.FLOAT64:\n                this._advance(8);\n                return true;\n            case Type_1.default.BYTES:\n            case Type_1.default.TEXT:\n                if (minor === 31) {\n                    this._skip_until_break(type);\n                    return true;\n                }\n                len = this._read_length(minor);\n                this._advance(len);\n                return true;\n            case Type_1.default.ARRAY:\n            case Type_1.default.OBJECT:\n                if (minor === 31) {\n                    while (this._skip_value(level - 1)) {\n                    }\n                    return true;\n                }\n                len = this._read_length(minor);\n                while (len--) {\n                    this._skip_value(level - 1);\n                }\n                return true;\n            default:\n                return false;\n        }\n    };\n    Decoder.prototype.u8 = function () {\n        var _a = this._type_info_with_assert([Type_1.default.UINT8]), type = _a[0], minor = _a[1];\n        return this._read_unsigned(type, minor);\n    };\n    Decoder.prototype.u16 = function () {\n        var _a = this._type_info_with_assert([Type_1.default.UINT8, Type_1.default.UINT16]), type = _a[0], minor = _a[1];\n        return this._read_unsigned(type, minor);\n    };\n    Decoder.prototype.u32 = function () {\n        var _a = this._type_info_with_assert([Type_1.default.UINT8, Type_1.default.UINT16, Type_1.default.UINT32]), type = _a[0], minor = _a[1];\n        return this._read_unsigned(type, minor);\n    };\n    Decoder.prototype.u64 = function () {\n        var _a = this._type_info_with_assert([Type_1.default.UINT8, Type_1.default.UINT16, Type_1.default.UINT32, Type_1.default.UINT64]), type = _a[0], minor = _a[1];\n        return this._read_unsigned(type, minor);\n    };\n    Decoder.prototype.i8 = function () {\n        var _a = this._type_info_with_assert([Type_1.default.INT8, Type_1.default.UINT8]), type = _a[0], minor = _a[1];\n        return this._read_signed(127, type, minor);\n    };\n    Decoder.prototype.i16 = function () {\n        var _a = this._type_info_with_assert([Type_1.default.INT8, Type_1.default.INT16, Type_1.default.UINT8, Type_1.default.UINT16]), type = _a[0], minor = _a[1];\n        return this._read_signed(32767, type, minor);\n    };\n    Decoder.prototype.i32 = function () {\n        var _a = this._type_info_with_assert([\n            Type_1.default.INT8,\n            Type_1.default.INT16,\n            Type_1.default.INT32,\n            Type_1.default.UINT8,\n            Type_1.default.UINT16,\n            Type_1.default.UINT32,\n        ]), type = _a[0], minor = _a[1];\n        return this._read_signed(2147483647, type, minor);\n    };\n    Decoder.prototype.i64 = function () {\n        var _a = this._type_info_with_assert([\n            Type_1.default.INT8,\n            Type_1.default.INT16,\n            Type_1.default.INT32,\n            Type_1.default.INT64,\n            Type_1.default.UINT8,\n            Type_1.default.UINT16,\n            Type_1.default.UINT32,\n            Type_1.default.UINT64,\n        ]), type = _a[0], minor = _a[1];\n        return this._read_signed(Number.MAX_SAFE_INTEGER, type, minor);\n    };\n    Decoder.prototype.unsigned = function () {\n        return this.u64();\n    };\n    Decoder.prototype.int = function () {\n        return this.i64();\n    };\n    Decoder.prototype.f16 = function () {\n        this._type_info_with_assert(Type_1.default.FLOAT16);\n        var half = this._u16();\n        var exp = (half >> 10) & 0x1f;\n        var mant = half & 0x3ff;\n        var ldexp = function (significand, exponent) { return significand * Math.pow(2, exponent); };\n        var val;\n        switch (exp) {\n            case 0:\n                val = ldexp(mant, -24);\n                break;\n            case 31:\n                val = mant === 0 ? Number.POSITIVE_INFINITY : Number.NaN;\n                break;\n            default:\n                val = ldexp(mant + 1024, exp - 25);\n                break;\n        }\n        return half & 0x8000 ? -val : val;\n    };\n    Decoder.prototype.f32 = function () {\n        this._type_info_with_assert(Type_1.default.FLOAT32);\n        return this._f32();\n    };\n    Decoder.prototype.f64 = function () {\n        this._type_info_with_assert(Type_1.default.FLOAT64);\n        return this._f64();\n    };\n    Decoder.prototype.bool = function () {\n        var _a = this._type_info_with_assert(Type_1.default.BOOL), _ = _a[0], minor = _a[1];\n        switch (minor) {\n            case 20:\n                return false;\n            case 21:\n                return true;\n            default:\n                throw new DecodeError_1.default(DecodeError_1.default.UNEXPECTED_TYPE);\n        }\n    };\n    Decoder.prototype.bytes = function () {\n        var _a = this._type_info_with_assert(Type_1.default.BYTES), _ = _a[0], minor = _a[1];\n        if (minor === 31) {\n            throw new DecodeError_1.default(DecodeError_1.default.UNEXPECTED_TYPE);\n        }\n        return this._bytes(minor, this.config.max_bytes_length);\n    };\n    Decoder.prototype.text = function () {\n        var _a = this._type_info_with_assert(Type_1.default.TEXT), _ = _a[0], minor = _a[1];\n        if (minor === 31) {\n            throw new DecodeError_1.default(DecodeError_1.default.UNEXPECTED_TYPE);\n        }\n        var array = new Uint8Array(this._bytes(minor, this.config.max_text_length));\n        var utf8 = array.reduce(function (previousValue, char) { return previousValue + String.fromCharCode(char); }, '');\n        return decodeURIComponent(escape(utf8));\n    };\n    Decoder.prototype.optional = function (closure) {\n        try {\n            return closure();\n        }\n        catch (error) {\n            if (error instanceof DecodeError_1.default && error.extra && error.extra[0] === Type_1.default.NULL) {\n                return null;\n            }\n            throw error;\n        }\n    };\n    Decoder.prototype.array = function () {\n        var _a = this._type_info_with_assert(Type_1.default.ARRAY), _ = _a[0], minor = _a[1];\n        if (minor === 31) {\n            throw new DecodeError_1.default(DecodeError_1.default.UNEXPECTED_TYPE);\n        }\n        var len = this._read_length(minor);\n        if (len > this.config.max_array_length) {\n            throw new DecodeError_1.default(DecodeError_1.default.TOO_LONG);\n        }\n        return len;\n    };\n    Decoder.prototype.object = function () {\n        var _a = this._type_info_with_assert(Type_1.default.OBJECT), _ = _a[0], minor = _a[1];\n        if (minor === 31) {\n            throw new DecodeError_1.default(DecodeError_1.default.UNEXPECTED_TYPE);\n        }\n        var len = this._read_length(minor);\n        if (len > this.config.max_object_size) {\n            throw new DecodeError_1.default(DecodeError_1.default.TOO_LONG);\n        }\n        return len;\n    };\n    Decoder.prototype.skip = function () {\n        return this._skip_value(this.config.max_nesting);\n    };\n    return Decoder;\n}());\nexports.default = Decoder;\n//# sourceMappingURL=Decoder.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./dist/cbor/Decoder.js\n// module id = 4\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Type_1 = require(\"./Type\");\nvar Encoder = (function () {\n    function Encoder() {\n        this.buffer = new ArrayBuffer(4);\n        this.view = new DataView(this.buffer);\n    }\n    Encoder.prototype.get_buffer = function () {\n        return this.buffer.slice(0, this.view.byteOffset);\n    };\n    Encoder.prototype._new_buffer_length = function (need_nbytes) {\n        return ~~Math.max(this.buffer.byteLength * 1.5, this.buffer.byteLength + need_nbytes);\n    };\n    Encoder.prototype._grow_buffer = function (need_nbytes) {\n        var new_len = this._new_buffer_length(need_nbytes);\n        var new_buf = new ArrayBuffer(new_len);\n        new Uint8Array(new_buf).set(new Uint8Array(this.buffer));\n        this.buffer = new_buf;\n        this.view = new DataView(this.buffer, this.view.byteOffset);\n    };\n    Encoder.prototype._ensure = function (bytes) {\n        if (!(this.view.byteLength < bytes)) {\n            return;\n        }\n        return this._grow_buffer(bytes);\n    };\n    Encoder.prototype._advance = function (bytes) {\n        this.view = new DataView(this.buffer, this.view.byteOffset + bytes);\n    };\n    Encoder.prototype._write = function (bytes, callback) {\n        this._ensure(bytes);\n        callback();\n        return this._advance(bytes);\n    };\n    Encoder.prototype._write_type_and_len = function (type, len) {\n        var major = Type_1.default.major(type) << 5;\n        if (0 <= len && len <= 23) {\n            return this._u8(major | len);\n        }\n        else if (24 <= len && len <= 255) {\n            this._u8(major | 24);\n            return this._u8(len);\n        }\n        else if (0x100 <= len && len <= 0xffff) {\n            this._u8(major | 25);\n            return this._u16(len);\n        }\n        else if (0x10000 <= len && len <= 0xffffffff) {\n            this._u8(major | 26);\n            return this._u32(len);\n        }\n        else if (len <= Number.MAX_SAFE_INTEGER) {\n            this._u8(major | 27);\n            return this._u64(len);\n        }\n        throw new RangeError('Invalid size for CBOR object');\n    };\n    Encoder.prototype._u8 = function (value) {\n        var _this = this;\n        return this._write(1, function () { return _this.view.setUint8(0, value); });\n    };\n    Encoder.prototype._u16 = function (value) {\n        var _this = this;\n        return this._write(2, function () { return _this.view.setUint16(0, value); });\n    };\n    Encoder.prototype._u32 = function (value) {\n        var _this = this;\n        return this._write(4, function () { return _this.view.setUint32(0, value); });\n    };\n    Encoder.prototype._u64 = function (value) {\n        var _this = this;\n        var low = value % Math.pow(2, 32);\n        var high = (value - low) / Math.pow(2, 32);\n        var w64 = function () {\n            _this.view.setUint32(0, high);\n            return _this.view.setUint32(4, low);\n        };\n        return this._write(8, w64);\n    };\n    Encoder.prototype._f32 = function (value) {\n        var _this = this;\n        return this._write(4, function () { return _this.view.setFloat32(0, value); });\n    };\n    Encoder.prototype._f64 = function (value) {\n        var _this = this;\n        return this._write(8, function () { return _this.view.setFloat64(0, value); });\n    };\n    Encoder.prototype._bytes = function (value) {\n        var nbytes = value.byteLength;\n        this._ensure(nbytes);\n        new Uint8Array(this.buffer, this.view.byteOffset).set(value);\n        return this._advance(nbytes);\n    };\n    Encoder.prototype.u8 = function (value) {\n        if (0 <= value && value <= 23) {\n            this._u8(value);\n        }\n        else if (24 <= value && value <= 255) {\n            this._u8(24);\n            this._u8(value);\n        }\n        else {\n            throw new RangeError('Invalid u8');\n        }\n        return this;\n    };\n    Encoder.prototype.u16 = function (value) {\n        if (0 <= value && value <= 23) {\n            this._u8(value);\n        }\n        else if (24 <= value && value <= 255) {\n            this._u8(24);\n            this._u8(value);\n        }\n        else if (0x100 <= value && value <= 0xffff) {\n            this._u8(25);\n            this._u16(value);\n        }\n        else {\n            throw new RangeError('Invalid u16');\n        }\n        return this;\n    };\n    Encoder.prototype.u32 = function (value) {\n        if (0 <= value && value <= 23) {\n            this._u8(value);\n        }\n        else if (24 <= value && value <= 255) {\n            this._u8(24);\n            this._u8(value);\n        }\n        else if (0x100 <= value && value <= 0xffff) {\n            this._u8(25);\n            this._u16(value);\n        }\n        else if (0x10000 <= value && value <= 0xffffffff) {\n            this._u8(26);\n            this._u32(value);\n        }\n        else {\n            throw new RangeError('Invalid u32');\n        }\n        return this;\n    };\n    Encoder.prototype.u64 = function (value) {\n        if (0 <= value && value <= 23) {\n            this._u8(value);\n        }\n        else if (24 <= value && value <= 255) {\n            this._u8(24);\n            this._u8(value);\n        }\n        else if (0x100 <= value && value <= 0xffff) {\n            this._u8(25);\n            this._u16(value);\n        }\n        else if (0x10000 <= value && value <= 0xffffffff) {\n            this._u8(26);\n            this._u32(value);\n        }\n        else if (value <= Number.MAX_SAFE_INTEGER) {\n            this._u8(27);\n            this._u64(value);\n        }\n        else {\n            throw new RangeError('Invalid unsigned integer');\n        }\n        return this;\n    };\n    Encoder.prototype.i8 = function (value) {\n        if (value >= 0) {\n            this._u8(value);\n            return this;\n        }\n        value = -1 - value;\n        if (0 <= value && value <= 23) {\n            this._u8(0x20 | value);\n        }\n        else if (24 <= value && value <= 255) {\n            this._u8(0x20 | 24);\n            this._u8(value);\n        }\n        else {\n            throw new RangeError('Invalid i8');\n        }\n        return this;\n    };\n    Encoder.prototype.i16 = function (value) {\n        if (value >= 0) {\n            this._u16(value);\n            return this;\n        }\n        value = -1 - value;\n        if (0 <= value && value <= 23) {\n            this._u8(0x20 | value);\n        }\n        else if (24 <= value && value <= 255) {\n            this._u8(0x20 | 24);\n            this._u8(value);\n        }\n        else if (0x100 <= value && value <= 0xffff) {\n            this._u8(0x20 | 25);\n            this._u16(value);\n        }\n        else {\n            throw new RangeError('Invalid i16');\n        }\n        return this;\n    };\n    Encoder.prototype.i32 = function (value) {\n        if (value >= 0) {\n            this._u32(value);\n            return this;\n        }\n        value = -1 - value;\n        if (0 <= value && value <= 23) {\n            this._u8(0x20 | value);\n        }\n        else if (24 <= value && value <= 255) {\n            this._u8(0x20 | 24);\n            this._u8(value);\n        }\n        else if (0x100 <= value && value <= 0xffff) {\n            this._u8(0x20 | 25);\n            this._u16(value);\n        }\n        else if (0x10000 <= value && value <= 0xffffffff) {\n            this._u8(0x20 | 26);\n            this._u32(value);\n        }\n        else {\n            throw new RangeError('Invalid i32');\n        }\n        return this;\n    };\n    Encoder.prototype.i64 = function (value) {\n        if (value >= 0) {\n            this._u64(value);\n            return this;\n        }\n        value = -1 - value;\n        if (0 <= value && value <= 23) {\n            this._u8(0x20 | value);\n        }\n        else if (24 <= value && value <= 255) {\n            this._u8(0x20 | 24);\n            this._u8(value);\n        }\n        else if (0x100 <= value && value <= 0xffff) {\n            this._u8(0x20 | 25);\n            this._u16(value);\n        }\n        else if (0x10000 <= value && value <= 0xffffffff) {\n            this._u8(0x20 | 26);\n            this._u32(value);\n        }\n        else if (value <= Number.MAX_SAFE_INTEGER) {\n            this._u8(0x20 | 27);\n            this._u64(value);\n        }\n        else {\n            throw new RangeError('Invalid i64');\n        }\n        return this;\n    };\n    Encoder.prototype.f32 = function (value) {\n        this._u8(0xe0 | 26);\n        this._f32(value);\n        return this;\n    };\n    Encoder.prototype.f64 = function (value) {\n        this._u8(0xe0 | 27);\n        this._f64(value);\n        return this;\n    };\n    Encoder.prototype.bool = function (value) {\n        this._u8(0xe0 | (value ? 21 : 20));\n        return this;\n    };\n    Encoder.prototype.bytes = function (value) {\n        this._write_type_and_len(Type_1.default.BYTES, value.byteLength);\n        this._bytes(value);\n        return this;\n    };\n    Encoder.prototype.text = function (value) {\n        var utf8 = unescape(encodeURIComponent(value));\n        this._write_type_and_len(Type_1.default.TEXT, utf8.length);\n        this._bytes(new Uint8Array(utf8.split('').map(function (char) { return char.charCodeAt(0); })));\n        return this;\n    };\n    Encoder.prototype.null = function () {\n        this._u8(0xe0 | 22);\n        return this;\n    };\n    Encoder.prototype.undefined = function () {\n        this._u8(0xe0 | 23);\n        return this;\n    };\n    Encoder.prototype.array = function (len) {\n        this._write_type_and_len(Type_1.default.ARRAY, len);\n        return this;\n    };\n    Encoder.prototype.array_begin = function () {\n        this._u8(0x9f);\n        return this;\n    };\n    Encoder.prototype.array_end = function () {\n        this._u8(0xff);\n        return this;\n    };\n    Encoder.prototype.object = function (len) {\n        this._write_type_and_len(Type_1.default.OBJECT, len);\n        return this;\n    };\n    Encoder.prototype.object_begin = function () {\n        this._u8(0xbf);\n        return this;\n    };\n    Encoder.prototype.object_end = function () {\n        this._u8(0xff);\n        return this;\n    };\n    return Encoder;\n}());\nexports.default = Encoder;\n//# sourceMappingURL=Encoder.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./dist/cbor/Encoder.js\n// module id = 5\n// module chunks = 0"],"sourceRoot":""}